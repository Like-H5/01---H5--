<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>轮播图新增</title>
    <link rel="stylesheet" href="/css/add.css">
</head>
<body>
<!--
注意事项:
    1. 需要按照接口信息, 填写action  method 字段名称
    2. 上传图片是, 需要对文件类型进行过滤(accept过滤和js过滤)
-->
<form action="http://localhost:5000/lb/add" method="post" enctype="multipart/form-data" id="sz_form">
    <label>
        <input type="text" placeholder="请输入轮播图标题" name="title">
    </label>
    <label>
        <input type="file" name="lb_img" accept="image/*">
    </label>
    <input type="submit" value="提交">
</form>

<script>

    sz_form.onsubmit = function (evt) {
        evt.preventDefault();

        if(sz_form.title.value.length === 0) {
            alert("请输入标题")
            return;
        }
        let pathArray = sz_form.lb_img.value.split(".")
        let extName = pathArray[pathArray.length - 1]
        if (!["jpg", "jpeg", "png"].includes(extName)) {
            alert("请传入图片文件")
            return;
        }

        sz_form.submit()
    }


</script>

</body>
</html>